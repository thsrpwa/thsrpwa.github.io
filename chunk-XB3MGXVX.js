import{a as W,b as Z,c as ee,d as te}from"./chunk-J4QCZN3P.js";import{e as F,f as D,h as B,t as b,u as k,v as A,x as M,y as h,z as _}from"./chunk-5JAWHIKF.js";import{a as K}from"./chunk-SJF4UMRN.js";import{$ as R,Ba as t,Bb as f,Ca as e,Da as o,Ea as S,Fa as s,Ga as X,I as H,Ja as q,L as u,Nb as J,Qa as Y,R as v,Ra as n,S as y,V as x,Y as V,Z as Q,ab as $,ba as l,ha as d,ia as G,j as C,ma as L,ra as c,ta as j,wa as z,y as E}from"./chunk-H5KATAC4.js";var w=class r{ngbActiveModal=u(M);static \u0275fac=function(i){return new(i||r)};static \u0275cmp=d({type:r,selectors:[["app-booking-modal"]],decls:25,vars:1,consts:[["bookingForm","ngForm"],[1,"modal-header","bg-warning-subtle","align-items-center","justify-content-between"],[1,"modal-title"],[1,"text-danger"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","w-100"],[1,"d-flex","align-items-center"],[1,"fas","fa-circle-exclamation","text-warning","me-2","fs-3"],[1,"w-100"],[1,"mb-3","d-flex","align-items-center"],["for","idNumber",1,"form-label","text-nowrap"],["type","text","id","idNumber","name","idNumber","required","",1,"form-control","ms-2","w-25"],["for","bookingCode",1,"form-label","text-nowrap"],["type","text","id","bookingCode","name","bookingCode","required","",1,"form-control","ms-2","w-25"],[1,"d-flex","justify-content-end","w-100"],["type","button",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary","ms-2",3,"disabled"]],template:function(i,m){if(i&1){let p=S();t(0,"div",1)(1,"p",2)(2,"span"),n(3,"\u67E5\u7121290001111\u8A02\u4F4D\u7D00\u9304\uFF0C\u8ACB\u91CD\u65B0\u8F38\u5165"),e(),t(4,"span",3),n(5,"\u6B63\u78BA\u4E4B\u300C\u8A02\u4F4D\u4EE3\u865F\u300D\u6216\u7528\u300C\u8EAB\u4EFD\u8B49\u865F(ID)/\u8B77\u7167\u865F\u78BC\u300D\u53CD\u67E5\u8A02\u4F4D/QR code\u81EA\u7531\u5EA7\u8ECA\u7968\u3002"),e()(),t(6,"button",4),s("click",function(){return v(p),y(m.ngbActiveModal.close(null))}),e()(),t(7,"div",5)(8,"div",6),o(9,"i",7),t(10,"form",8,0)(12,"div",9)(13,"label",10),n(14,"\u8EAB\u4EFD\u8B49\u865F(ID)/\u8B77\u7167\u865F\u78BC"),e(),o(15,"input",11),e(),t(16,"div",9)(17,"label",12),n(18,"\u8A02\u4F4D\u4EE3\u865F"),e(),o(19,"input",13),e()()(),t(20,"div",14)(21,"button",15),n(22,"\u53D6\u6D88"),e(),t(23,"button",16),n(24,"\u78BA\u8A8D"),e()()()}if(i&2){let p=Y(11);l(23),c("disabled",!p.form.valid)}},dependencies:[f,b,B,F,D],styles:[".seat[_ngcontent-%COMP%]{height:30px;border-radius:4px}.seat[_ngcontent-%COMP%]   .fa-ban[_ngcontent-%COMP%], .seat.selected[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{display:none}.seat-reserved[_ngcontent-%COMP%]{color:#0dcaf0}.seat-priority[_ngcontent-%COMP%]{color:#ffc107}.seat-priority.selected[_ngcontent-%COMP%]{background-color:#ffc107;color:#000}.seat-accessibility[_ngcontent-%COMP%]{color:#0d6efd}.seat-accessibility.selected[_ngcontent-%COMP%]{background-color:#0d6efd;color:#000}.seat-available[_ngcontent-%COMP%]{color:#000}.seat-available.selected[_ngcontent-%COMP%]{background-color:#d63384}.seat-taken[_ngcontent-%COMP%]{color:#000}.seat-taken[_ngcontent-%COMP%]   .fa-ban[_ngcontent-%COMP%]{display:inline}.seat-taken[_ngcontent-%COMP%]   .fa-chair[_ngcontent-%COMP%]{display:none}"]})};var ne={code:[{errorCode:0,errorActionCode:null}],data:{trip:{tripType:1,ticketStatus:1,isGroup:!1,pnrId:"02408010",holdLimitDate:"",channel:"INT",cityCode:"IRS",paymentType:"",trains:[{id:1,journey:"OUTBOUND",isTick:!1,discount:"Y",trainNumber:"0567",departStation:"\u677F\u6A4B",departDate:"11/08",departTime:"09:00",departDay:"FAR",arrivalStation:"\u53F0\u4E2D",arrivalDate:"11/08",arrivalTime:"11:00",arrivalDay:"FAR",elapseTime:"00:51",carriage:"\u6A19\u6E96\u8ECA\u5EC2",carriageCode:""},{id:2,journey:"INBOUND",isTick:!1,discount:"Y",trainNumber:"0888",departStation:"\u53F0\u4E2D",departDate:"11/09",departTime:"17:00",departDay:"SAT",arrivalStation:"\u677F\u6A4B",arrivalDate:"11/09",arrivalTime:"19:00",arrivalDay:"SAT",elapseTime:"00:55",carriage:"\u6A19\u6E96\u8ECA\u5EC2",carriageCode:""}],pickUpInfo:{personalId:"",phoneNumber:""},membership:{personalId:"",coperateId:""},groupInfo:{groupName:"",personId:"",firstName:"",lastName:"",phoneNumber:""},passengers:[{isTick:!1,index:1,id:1,profile:"\u6210\u4EBA",profileCode:"F",personalId:"A123456789",expiryDate:"",needCompanion:!1,noIdDocument:!1,tickets:[{journey:"OUTBOUND",id:"bc8233d2-d230-494b-a5ea-46fe328a6547",coupon:"",ticketNumber:"0320502890002",fare:700,car:"05",seat:"2E",eCoupon:"CROXHC2E1E",mark:""},{journey:"INBOUND",id:"bc8233d2-d230-494b-a5ea-46fe328a6547",coupon:"",ticketNumber:"0320502890004",fare:700,car:"02",seat:"1A",eCoupon:"CROXHC2E1E",mark:""}]}],promotion:{code:"P115",projectName:"\u4F01\u696D\u6703\u54E1",projectDiscount:"-100"}},bookingRecords:null}};var T=class r{confirm=V();ngbModal=u(h);loadingService=u(_);destroyRef=u(x);onSubmit(){this.loadingService.loading||(this.loadingService.start(),this.request({}).pipe(A(this.destroyRef)).subscribe({next:a=>{this.loadingService.stop(),this.confirm.emit(a.data)},error:()=>{this.loadingService.stop()},complete:()=>{this.loadingService.stop()}}))}test(){this.ngbModal.open(w,{size:"lg",centered:!0,scrollable:!0,backdrop:"static"})}request(a){return console.log(a),C(ne).pipe(E(100))}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=d({type:r,selectors:[["app-step1"]],outputs:{confirm:"confirm"},decls:46,vars:1,consts:[[1,"py-2"],[1,"border","rounded","p-3","shadow-sm","bg-white","fs-6","m-0","w-100"],[1,"mb-3"],[1,"form-label"],[1,"mb-3","d-flex","align-items-center"],["for","idNumber",1,"form-label","text-nowrap","m-0"],["type","text","id","idNumber",1,"form-control","form-control-sm","ms-2","w-25"],[1,"form-text","text-danger","mt-1"],["for","bookingCode",1,"form-label","text-nowrap","m-0"],["type","text","id","bookingCode",1,"form-control","form-control-sm","ms-2","w-25"],[1,"row"],[1,"col-6","mb-3","d-flex","align-items-center"],["for","magneticTicketCount",1,"form-label","text-nowrap","m-0"],["type","text","id","magneticTicketCount",1,"form-control","form-control-sm","ms-2","w-50"],["for","paperMobileTicketCount",1,"form-label","text-nowrap","m-0"],["type","text","id","paperMobileTicketCount",1,"form-control","form-control-sm","ms-2","w-50"],[1,"mb-2"],[1,"mb-2","text-muted"],[1,"align-items-center","mb-2","d-flex","align-items-center"],["for","ticket1",1,"text-nowrap","me-2"],[1,"col"],["type","text","id","ticket1","readonly","",1,"form-control","w-25",3,"value"],[1,"d-flex","justify-content-between","mt-2"],["type","button",1,"btn","btn-primary","me-2",3,"click"],["type","button",1,"btn","btn-secondary","me-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","reset",1,"btn","btn-secondary"]],template:function(i,m){i&1&&(t(0,"form",0)(1,"div",1)(2,"div",2)(3,"span",3),n(4,"\u8ACB\u8F38\u5165\u8A02\u4F4D\u4EE3\u865F\u6216\u8EAB\u5206\u8B49\u865F/\u8B77\u7167\u865F\u78BC"),e()(),t(5,"div",4)(6,"label",5),n(7,"\u8EAB\u5206\u8B49\u865F/\u8B77\u7167\u865F\u78BC"),e(),o(8,"input",6),e(),t(9,"div",2)(10,"div",7),n(11,"\u4EE5\u8EAB\u5206\u8B49\u865F/\u8B77\u7167\u865F\u78BC\u67E5\u8A62\u50C5\u986F\u793A\u6709\u6548\u4E4B\u8A02\u4F4D\u7D00\u9304"),e()(),t(12,"div",4)(13,"label",8),n(14,"\u8A02\u4F4D\u4EE3\u865F"),e(),o(15,"input",9),e(),t(16,"div",10)(17,"div",11)(18,"label",12),n(19,"\u8B80\u53D6\u78C1\u7968\u5F35\u6578"),e(),o(20,"input",13),e(),t(21,"div",11)(22,"label",14),n(23,"\u8B80\u53D6\u7D19\u7968/\u624B\u6A5F\u5F35\u6578"),e(),o(24,"input",15),e()()()(),t(25,"form",0)(26,"div",1)(27,"div",16),n(28,"QR-Code \u7968\u8B49\u689D\u78BC\u8CC7\u8A0A\u8B80\u53D6"),e(),t(29,"div",17),n(30,"\u8ACB\u4F9D\u5E8F\u8B80\u53D6"),e(),t(31,"div",18)(32,"label",19),n(33,"\u7968\u865F1:"),e(),t(34,"div",20),o(35,"input",21),e()()()(),t(36,"div",22)(37,"div")(38,"button",23),s("click",function(){return m.onSubmit()}),n(39,"\u78BA\u8A8D"),e(),t(40,"button",24),n(41,"\u78C1\u7968\u8B80\u53D6\u958B\u59CB"),e(),t(42,"button",25),s("click",function(){return m.test()}),n(43,"\u8B80\u7968\u5B8C\u6210"),e()(),t(44,"button",26),n(45,"\u91CD\u8A2D"),e()()),i&2&&(l(35),c("value","0220410920002"))},dependencies:[b,B,F,D,f,k],encapsulation:2})};var I=class r{ngbActiveModal=u(M);static \u0275fac=function(i){return new(i||r)};static \u0275cmp=d({type:r,selectors:[["app-query-booking-history"]],decls:6,vars:0,consts:[[1,"modal-header","bg-warning-subtle","align-items-center","justify-content-between"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","w-100"]],template:function(i,m){i&1&&(t(0,"div",0)(1,"p",1)(2,"span"),n(3,"\u67E5\u8A62\u8A02\u4F4D\u6B77\u53F2\u7D00\u9304"),e()(),t(4,"button",2),s("click",function(){return m.ngbActiveModal.close(null)}),e()(),o(5,"div",3))},dependencies:[f,b],encapsulation:2})};var re=()=>[];function ae(r,a){if(r&1){let i=S();t(0,"div",0)(1,"div",1)(2,"p",2)(3,"strong"),n(4,"\u8A02\u4F4D\u4EE3\u865F\uFF1A"),e(),n(5,"01984008"),e(),t(6,"p",2)(7,"strong"),n(8,"\u8A02\u4F4D\u901A\u8DEF\uFF1A"),e(),n(9,"INT - IRS"),e()(),t(10,"div",1)(11,"p",2)(12,"strong"),n(13,"\u4ED8\u6B3E\u671F\u9650\uFF1A"),e(),t(14,"span",3),n(15,"\u7ACB\u5373\u4ED8\u6B3E"),e()(),t(16,"p",2)(17,"strong"),n(18,"\u4ED8\u6B3E\u65B9\u5F0F\uFF1A"),e(),t(19,"span"),n(20,"\u672A\u4ED8\u6B3E"),e()()()(),t(21,"div",4)(22,"div",5),n(23,"\u5217\u8ECA\u8CC7\u8A0A"),e(),t(24,"button",6),n(25,"\u8B8A\u66F4\u884C\u7A0B"),e(),t(26,"button",7),n(27,"\u53D6\u6D88\u884C\u7A0B"),e()(),o(28,"app-bound",8),t(29,"div",9)(30,"div",10)(31,"label",11),n(32,"\u53D6\u7968\u4EBA\u8EAB\u4EFD\u8B49\u865F"),e(),t(33,"div",12),o(34,"input",13),e()(),t(35,"div",10)(36,"label",14),n(37,"\u806F\u7D61\u96FB\u8A71"),e(),t(38,"div",12),o(39,"input",15),e()(),o(40,"app-member-code",16),e(),t(41,"div",17)(42,"div",18)(43,"div",5),n(44,"\u4E58\u5BA2\u8CC7\u8A0A"),e(),t(45,"button",6),n(46,"\u8CC7\u6599\u4FEE\u6539"),e(),t(47,"button",6),n(48,"\u6E1B\u5C11\u4EBA\u6578"),e(),t(49,"button",7),n(50,"\u8B8A\u66F4\u5EA7\u4F4D"),e()(),t(51,"div")(52,"button",19),n(53,"\u660E\u78BC\u986F\u793A"),e()()(),o(54,"app-passengers",20),t(55,"div",21)(56,"div",22)(57,"div",23)(58,"div",5),n(59,"\u7E3D\u4EBA\u6578:"),e(),t(60,"div",24),n(61," 4\u4EBA( "),t(62,"span"),n(63,"\u6210\u4EBA 4\u5F35 / "),e(),t(64,"span"),n(65,"\u5B69\u7AE5 4\u5F35 / "),e(),t(66,"span"),n(67,"\u656C\u8001 4\u5F35"),e(),n(68," ) "),e()(),t(69,"div",23)(70,"div",25)(71,"div"),n(72,"\u7E3D\u7968\u50F9:"),e(),t(73,"div"),n(74,"$3200"),e()(),t(75,"div",26)(76,"div"),n(77,"\u4FC3\u92B7\u4EE3\u78BC:"),e(),t(78,"div"),n(79,"P001 "),t(80,"span",3),n(81,"\uFF08\u516C\u52D9\u4E58\u8ECA \u6210\u4EBA 4\u5F35\uFF09"),e()()()()(),t(82,"div",27)(83,"div",26)(84,"button",28),n(85,"\u4ED8\u6B3E\u53D6\u7968"),e(),t(86,"button",29),n(87,"\u8CC7\u683C\u6AA2\u6838"),e(),t(88,"button",30),s("click",function(){v(i);let p=X();return y(p.queryBookingHistory())}),n(89,"\u67E5\u8A62\u8A02\u4F4D\u6B77\u53F2\u7D00\u9304"),e()()()()}if(r&2){let i=a;l(28),c("roundTrip",i.trip.trains.length>1)("outbound",i.trip.trains[0])("inbound",i.trip.trains[1])("seatSelectable",!1)("isShort",!0)("hasCheckbox",!0),l(6),q("value",i.trip.pickUpInfo.personalId),l(5),q("value",i.trip.pickUpInfo.phoneNumber),l(),c("readonly",!0)("personalId",i.trip.membership.personalId)("coperateId",i.trip.membership.coperateId)("rowStyle",!1),l(14),c("roundTrip",!0)("passengers",$(18,re))("isSelect",!0)("showRowCheckbox",!0)("showRowMarker",!0)("readonly",!1)}}var P=class r{data=Q();loadingService=u(_);destroyRef=u(x);ngbModal=u(h);queryBookingHistory(){this.loadingService.loading||(this.loadingService.start(),this.request({}).pipe(A(this.destroyRef)).subscribe({next:()=>{this.loadingService.stop(),this.ngbModal.open(I,{size:"lg",centered:!0,scrollable:!0,backdrop:"static"})},error:()=>{this.loadingService.stop()},complete:()=>{this.loadingService.stop()}}))}request(a){return console.log(a),C({}).pipe(E(100))}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=d({type:r,selectors:[["app-step2"]],inputs:{data:[1,"data"]},decls:1,vars:1,consts:[[1,"row","pt-2"],[1,"col-md-6"],[1,"mb-2"],[1,"text-danger"],[1,"d-flex","align-items-center","mb-2"],[1,"me-2"],[1,"btn","btn-sm","btn-dark","me-2"],[1,"btn","btn-sm","btn-dark"],[3,"roundTrip","outbound","inbound","seatSelectable","isShort","hasCheckbox"],[1,"w-100","d-flex","align-items-center","flex-wrap"],[1,"d-flex","flex-column","justify-content-start"],["for","pid",1,"text-nowrap","m-1"],[1,"m-1"],["id","personalId","name","personalId","type","text","disabled","",1,"form-control","form-control-sm",3,"value"],["for","phone",1,"text-nowrap","m-1"],["id","phoneNumber","name","phoneNumber","type","text","disabled","",1,"form-control","form-control-sm",3,"value"],[3,"readonly","personalId","coperateId","rowStyle"],[1,"d-flex","justify-content-between","align-items-center","mb-2"],[1,"mt-1","d-flex","align-items-center"],[1,"btn","btn-sm","btn-primary","me-2"],[3,"roundTrip","passengers","isSelect","showRowCheckbox","showRowMarker","readonly"],[1,"d-flex","flex-column"],[1,"w-75"],[1,"d-flex"],[1,"d-flex","gap-2"],[1,"me-2","d-flex","gap-2"],[1,"ms-auto","d-flex","gap-2"],[1,"d-flex","gap-3","justify-content-center","mt-1"],["type","button",1,"btn","btn-sm","btn-primary"],["type","button",1,"btn","btn-sm","btn-secondary"],["type","button",1,"btn","btn-sm","btn-dark",3,"click"]],template:function(i,m){if(i&1&&L(0,ae,90,19),i&2){let p;z((p=m.data())?0:-1,p)}},dependencies:[b,f,k,Z,W,ee],encapsulation:2})};var O=class r{step=R(1);step1Data=R(null);mmiService=u(K);constructor(){this.mmiService.breadcrumb.set(["\u7AD9\u52D9\u54E1\u503C\u73ED","\u8A02\u4F4D\u7D00\u9304\u4FEE\u6539/\u53D6\u7968","\u8F38\u5165\u8A02\u4F4D\u8CC7\u8A0A\u6216\u9000\u7968\u5F35\u6578"])}onStep1Confirm(a){this.step1Data.set(a),this.step.set(2),this.mmiService.breadcrumb.set(["\u7AD9\u52D9\u54E1\u503C\u73ED","\u8A02\u4F4D\u7D00\u9304\u4FEE\u6539/\u53D6\u7968","\u8F38\u5165\u8A02\u4F4D\u8CC7\u8A0A\u6216\u9000\u7968\u5F35\u6578","\u700F\u89BD/\u4FEE\u6539\u8A02\u4F4D\u7D00\u9304"])}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=d({type:r,selectors:[["app-edit"]],decls:3,vars:5,consts:[[3,"confirm"],[3,"data"]],template:function(i,m){i&1&&(o(0,"app-errors"),t(1,"app-step1",0),s("confirm",function(U){return m.onStep1Confirm(U)}),e(),o(2,"app-step2",1)),i&2&&(l(),j("d-none",m.step()!==1),l(),j("d-none",m.step()!==2),c("data",m.step1Data()))},dependencies:[T,P,te],encapsulation:2})};var me=[{path:"",component:O}],ie=class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=G({type:r});static \u0275inj=H({imports:[f,J.forChild(me)]})};export{ie as EditModule};
